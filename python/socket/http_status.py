from asyncio import exceptions
import http.client
from logging import exception
from urllib import response
from urllib3.exceptions import InsecureRequestWarning
import requests
requests.packages.urllib3.disable_warnings(category=InsecureRequestWarning)

print("** This program returns a list of methods if OPTIONS is enabled **\n")

host = input("Enter the webserver IP: ")
port = input("Enter the port number, default 80: ")
url = input("Enter the url to search for: ")

if (port == ''): port = 80

try:
    # connection = http.client.HTTPConnection(host, port)
    # connection.request('GET', url)
    connection = requests.get(host+":"+port+url,verify = False)
    # response = connection.getresponse()
    print("Response status: ", connection.status_code)
    connection.close()
except ConnectionRefusedError:
    print("Connection failed!")
